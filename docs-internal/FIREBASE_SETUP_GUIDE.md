# Firebase 설정 가이드 (시료 접수 대장)

> **대상**: 비기술 사용자, 컴퓨터를 잘 모르는 분들
> **목적**: Firebase 테스트 모드로 간단히 클라우드 저장소 설정하기
> **소요 시간**: 약 20-30분

---

## 💡 Firebase가 뭔가요?

Firebase는 **Google에서 제공하는 클라우드 저장소**입니다. 시료 접수 데이터를 인터넷 클라우드에 저장할 수 있게 해줍니다.

- 여러 컴퓨터에서 같은 데이터를 볼 수 있음
- 자동 백업 효과
- 인터넷이 연결되면 언제 어디서나 접근 가능

---

## 1️⃣ 시작하기 전에

### 필요한 것

- **Google 계정**: 없으면 [google.com](https://google.com)에서 무료로 만들 수 있습니다
- **웹 브라우저**: Chrome 권장 (Edge, Firefox도 가능)
- **인터넷**: 항상 연결되어 있어야 합니다

### 준비 사항

1. Google 계정으로 **로그인**해 놓으세요
2. 새 탭을 열어서 Firebase 콘솔에 접속할 준비를 하세요

> 💡 **팁**: 이 가이드를 인쇄하거나 다른 창에 띄워놓으면서 따라하면 편합니다.

---

## 2️⃣ Firebase 프로젝트 만들기

### Step 1: Firebase 콘솔 접속

1. 웹 브라우저에서 아래 주소 입력
   ```
   https://console.firebase.google.com
   ```

2. Google 계정으로 로그인
   - "계속" 버튼을 클릭하면 자동 로그인됩니다

### Step 2: 새 프로젝트 만들기

1. **"프로젝트 추가"** 버튼 클릭 (큰 파란 버튼)

2. **프로젝트 이름** 입력
   ```
   예: "my-sample-log"
   ```
   - 영문, 숫자, 하이픈(-)만 사용 가능합니다
   - 공백은 안 됩니다
   - 나중에 변경할 수 없으므로 신중하게 입력하세요

3. 체크박스 두 개 읽기
   - "Firebase 약관에 동의합니다" ✅ 체크
   - "Google Analytics 약관" ✅ 체크 (선택)

4. **"프로젝트 만들기"** 클릭

### Step 3: 프로젝트 생성 대기

- 화면에 로딩 표시가 나옵니다
- **1~2분 정도 기다려주세요**
- 완료되면 새로운 화면이 나타납니다

✅ **확인**: "프로젝트가 준비되었습니다" 메시지가 보이면 성공입니다!

---

## 3️⃣ Firestore 데이터베이스 만들기

> **Firestore는?** 데이터를 저장하는 구름 저장소(데이터베이스)입니다.

### Step 1: Firestore 메뉴 찾기

1. 왼쪽 메뉴에서 **"빌드"** 섹션 찾기
   ```
   ┌─────────────────┐
   │  빌드           │
   │  ├─ Firestore   │ ← 여기!
   │  ├─ Realtime DB │
   │  └─ Storage     │
   └─────────────────┘
   ```

2. **"Firestore Database"** 클릭

### Step 2: 데이터베이스 만들기

1. **"데이터베이스 만들기"** 버튼 클릭 (파란 버튼)

2. **위치 선택** (매우 중요!)
   ```
   ┌─────────────────────────────┐
   │ 위치 선택                   │
   │ ┌─────────────────────────┐ │
   │ │ asia-northeast3 (Seoul) │ │ ← 추천!
   │ │ 한국 서울               │ │
   │ └─────────────────────────┘ │
   └─────────────────────────────┘
   ```

   💡 **왜 서울?** 한국에서 가장 빠른 응답 속도

3. **"테스트 모드에서 시작"** 선택
   ```
   ○ 프로덕션 모드
   ◉ 테스트 모드 ← 이것 선택!
   ```

   ⚠️ **중요 안내**:
   - 테스트 모드는 **30일 후 자동 만료**됩니다
   - 무료 개발용이고 보안이 낮습니다 (테스트용)
   - 30일 후에는 설정 페이지에서 보안 규칙을 업데이트해야 합니다

4. **"만들기"** 클릭

### Step 3: 생성 대기

- 로딩 표시가 나옵니다
- **30초~1분 정도 기다려주세요**
- 완료되면 데이터베이스 화면이 나타납니다

✅ **확인**: 빈 컬렉션 화면이 보이면 성공입니다!

---

## 4️⃣ 익명 인증 활성화

> **왜 필요?** 사용자 로그인 없이도 데이터를 저장/읽을 수 있게 해줍니다.

### Step 1: Authentication 메뉴

1. 왼쪽 메뉴에서 **"빌드"** → **"Authentication"** 클릭

### Step 2: 로그인 방법 추가

1. **"시작하기"** 버튼 클릭

2. **"로그인 방법"** 탭 찾기 (위쪽)
   ```
   ┌────────────────────────────────┐
   │ [로그인 방법] [사용자] [설정]  │
   │  ↑ 여기 클릭                    │
   └────────────────────────────────┘
   ```

3. 목록에서 **"익명"** 찾기
   ```
   ├─ 이메일/비밀번호
   ├─ 익명 ← 이것!
   ├─ Google
   └─ ...
   ```

4. **"익명"** 클릭

### Step 3: 익명 인증 켜기

1. 화면 오른쪽 위에 **토글 버튼** 찾기
   ```
   익명 인증  [○→●] 켜짐
   ```

2. 토글을 **오른쪽으로 드래그** (파란색으로 변함)

3. 팝업이 나타나면 **"사용 설정"** 클릭

✅ **확인**: 토글이 **파란색 (On)**으로 변하면 성공입니다!

---

## 5️⃣ 앱 등록하고 설정값 가져오기

> **앱 등록은?** "시료 접수 대장" 앱이 Firebase를 사용할 수 있게 승인해주는 것입니다.

### Step 1: 프로젝트 설정 열기

1. 왼쪽 위 **톱니바퀴 아이콘(⚙️)** 클릭
   ```
   ⚙️ 일반
   ```

2. 설정 화면 열림

### Step 2: 앱 등록

1. 페이지를 **아래로 스크롤**

2. **"내 앱"** 섹션 찾기
   ```
   ┌─────────────────────────────┐
   │ 내 앱                       │
   │                             │
   │  [Web: </>] 등록되지 않음   │
   └─────────────────────────────┘
   ```

3. **웹 아이콘 `</>`** 클릭 (또는 "웹앱 추가")

### Step 3: 앱 닉네임 입력

1. 팝업에서 **앱 닉네임** 입력
   ```
   예: "시료 접수 대장 앱"
   ```

2. **"앱 등록"** 클릭

### Step 4: Firebase SDK 설정값 복사

1. 코드가 나타납니다:
   ```javascript
   const firebaseConfig = {
     apiKey: "AIzaRy...",
     authDomain: "my-sample-log.firebaseapp.com",
     projectId: "my-sample-log",
     storageBucket: "my-sample-log.appspot.com",
     messagingSenderId: "123456789",
     appId: "1:123456789:web:abcdef123456"
   };
   ```

2. **이 6개의 값을 모두 복사**해서 어딘가에 저장해놓으세요
   - 메모장에 복사 후 저장 권장
   - 다음 단계에서 필요합니다

> 💡 **팁**: `{` 다음부터 `}` 전까지 모두 선택해서 복사하세요.

---

## 6️⃣ firebase-auth.json 파일 만들기

> **이 파일은?** Firebase 설정값을 앱이 읽을 수 있는 형태로 저장한 것입니다.

### Electron 앱 사용자 전용

앱이 설치된 컴퓨터에서 진행합니다.

#### Step 1: 텍스트 편집기 열기

**Windows:**
- 시작 메뉴에서 "메모장" 검색
- 메모장 열기

**macOS:**
- Spotlight(Cmd+Space) → "텍스트 편집기" 검색
- 텍스트 편집기 열기

#### Step 2: 설정 내용 입력

아래 내용을 **그대로 복사해서** 붙여넣기:

```json
{
    "apiKey": "여기에_apiKey_값",
    "authDomain": "여기에_authDomain_값",
    "projectId": "여기에_projectId_값",
    "storageBucket": "여기에_storageBucket_값",
    "messagingSenderId": "여기에_messagingSenderId_값",
    "appId": "여기에_appId_값"
}
```

#### Step 3: 5단계에서 복사한 값으로 교체

각 `"여기에_XXX_값"`을 **Step 5에서 복사한 값**으로 바꾸기:

**예시:**
```json
{
    "apiKey": "AIzaSyABCDEF123456-xyz",
    "authDomain": "my-sample-log.firebaseapp.com",
    "projectId": "my-sample-log",
    "storageBucket": "my-sample-log.appspot.com",
    "messagingSenderId": "123456789012",
    "appId": "1:123456789012:web:abcdef123456ghi"
}
```

> 💡 **팁**:
> - 빨간 텍스트 부분만 바꾸세요
> - `{`, `}`, `,`, `:` 기호는 절대 건드리면 안 됩니다!
> - JSON 키 순서는 상관없습니다

#### Step 4: **반드시** "다른 이름으로 저장" 사용

**Windows:**
1. 메뉴: 파일 → "다른 이름으로 저장"
2. 파일 이름: `firebase-auth.json` (정확히!)
3. **파일 형식**: "모든 파일" 또는 "(*.*)(*)" 선택
   - ⚠️ "텍스트 문서(*.txt)"는 안 됨!
4. 위치: 시료 접수 대장 앱 설치 폴더
5. "저장" 클릭

**macOS:**
1. 메뉴: 파일 → "다른 이름으로 저장"
2. 파일 이름: `firebase-auth.json`
3. 형식: 일반 텍스트
4. 인코딩: UTF-8
5. 저장 위치: 앱 설치 폴더
6. "저장" 클릭

#### Step 5: 파일 확장자 확인 (중요!)

저장 후 **파일 확장자를 확인**하세요:

```
✅ 올바름:  firebase-auth.json
❌ 틀림:    firebase-auth.json.txt
❌ 틀림:    firebase-auth.txt
```

> ⚠️ **자동 확장자 추가 끄기**
> - Windows: 보기 → "파일 확장자 보기" 체크 (탐색기 설정)
> - 기본 설정으로 파일명이 자동으로 `.txt`가 붙을 수 있으므로 주의!

---

### 웹 버전 사용자

웹 브라우저에서 앱을 사용하는 경우:

1. 앱의 **설정 페이지** 열기
2. **"Firebase 수동 설정"** 카드 찾기
3. 6개 값을 직접 입력
4. **"저장"** 클릭

파일 생성 불필요합니다!

---

## 7️⃣ 테스트 모드 보안 규칙 (30일 후)

> ⚠️ **30일 후 필요한 작업**

테스트 모드는 30일 후 자동 만료됩니다. 이후에는 보안 규칙을 업데이트해야 앱을 계속 사용할 수 있습니다.

### Step 1: Firestore 규칙 페이지 열기

1. Firebase 콘솔에서 **Firestore Database** 클릭
2. **"규칙"** 탭 클릭

### Step 2: 규칙 수정

현재 규칙을 모두 지우고 아래를 **그대로 복사**해서 붙여넣기:

```
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```

> 💡 **의미**: 로그인된 사용자만 데이터를 읽고 쓸 수 있습니다. (시료 접수 대장 앱이 익명 로그인하므로 작동합니다)

### Step 3: 규칙 게시

1. 규칙 입력창 위의 **"게시"** 버튼 클릭
2. 확인 팝업에서 **"게시"** 클릭
3. 로딩이 끝나면 완료!

---

## 8️⃣ 설정 확인하기

Firebase 설정이 제대로 되었는지 확인해봅시다.

### Step 1: 시료 접수 대장 앱 실행

앱을 실행하고 **설정 페이지** 열기:

```
메인 화면 → [설정] 또는 [Settings] 클릭
```

### Step 2: Firebase 연결 상태 확인

**설정 페이지 → Firebase 섹션**에서:

```
┌─────────────────────────────┐
│ Firebase 설정               │
│                             │
│ ✅ 연결됨                    │  ← 이렇게 보이면 성공!
│ 프로젝트: my-sample-log      │
│ 인증: 익명                   │
└─────────────────────────────┘
```

> ❌ **"연결 안 됨"** 표시되면?
> 1. `firebase-auth.json` 파일이 올바르게 저장됐는지 확인
> 2. Firebase 콘솔에서 프로젝트가 정상 상태인지 확인
> 3. 인터넷 연결 확인
> 4. 앱 재시작

### Step 3: 간단한 데이터 저장 테스트

1. 앱에서 **시료 하나 등록** (테스트용)
2. 데이터 저장
3. 앱을 **종료했다가 다시 열기**
4. **저장한 데이터가 그대로 남아있으면** 성공!

✅ **완벽합니다!** Firebase가 정상 작동합니다.

---

## 🔒 보안 안내

### 테스트 모드의 한계

테스트 모드는 **누구나 데이터를 읽고 쓸 수 있습니다**. 따라서:

- ✅ **개인 컴퓨터에서만 사용 권장**
- ❌ **회사 네트워크에서는 미권장**
- ❌ **민감한 정보는 저장하지 마세요** (현재 테스트용이므로)

### 정식 서비스 전환

30일 후 정식 서비스로 전환할 때:

1. 보안 규칙 업데이트 (Step 7)
2. 민감한 데이터는 암호화 활성화
3. 백업 설정

---

## ❓ 자주 묻는 질문 (FAQ)

### Q1: 파일을 어디에 저장해야 하나요?

**A:** 시료 접수 대장 앱이 설치된 폴더 (일반적으로):
- **Windows**: `C:\Users\[사용자명]\AppData\Local\Programs\시료접수대장\`
- **macOS**: `Applications\시료접수대장.app\` 또는 앱이 있는 곳
- **Linux**: 설치한 위치

### Q2: firebase-auth.json 파일을 잘못 저장했어요.

**A:**
1. 잘못 저장한 파일 삭제
2. Step 6을 다시 따라하기
3. **파일 확장자를 `.json`으로 꼭 확인**

### Q3: 30일 후에 꼭 보안 규칙을 변경해야 하나요?

**A:** 네, **반드시** 변경해야 합니다.
- 그렇지 않으면 앱이 데이터를 저장할 수 없습니다.
- 30일 지났을 때 앱에서 알림이 나타납니다.

### Q4: 여러 사람이 같은 데이터를 공유할 수 있나요?

**A:** 현재 테스트 모드에서는 불가능합니다. 정식 서비스 전환 시에 가능해집니다.

### Q5: 데이터가 손실되지 않나요?

**A:** Google 클라우드에 저장되므로 안전합니다. 하지만:
- 로컬 백업도 정기적으로 하세요
- 중요한 데이터는 Excel로도 내보내세요

### Q6: 비용이 드나요?

**A:** 현재는 무료입니다!
- Google Firebase는 무료 사용량이 충분히 있습니다.
- 소규모 사용량에서는 추가 비용 없음.

---

## 🆘 문제 해결

### 증상 1: "Firebase에 연결할 수 없습니다"

```
확인 사항:
1. 인터넷 연결 확인
2. firebase-auth.json 파일이 올바른 위치에 있는지 확인
3. Firebase 콘솔에서 프로젝트 상태 확인
4. 앱 재시작
```

### 증상 2: "데이터가 저장되지 않습니다"

```
확인 사항:
1. 30일 이상 지났으면 보안 규칙 업데이트 필요 (Step 7)
2. Firestore 할당량 확인 (보통 충분함)
3. 권한 설정 다시 확인
```

### 증상 3: "firebase-auth.json을 찾을 수 없습니다"

```
확인 사항:
1. 파일명 정확히 확인: firebase-auth.json (대소문자 구분!)
2. 파일 위치 확인 (앱 폴더와 동일 레벨)
3. 파일 확장자 확인 (.txt가 붙었으면 안 됨)
4. 숨김 파일 표시 설정 확인
```

---

## 📞 추가 도움

더 많은 도움이 필요하면:

1. **Firebase 공식 문서**: https://firebase.google.com/docs
2. **프로젝트 이슈 페이지**: 프로젝트 GitHub 이슈 등록
3. **Google 지원**: Firebase 콘솔의 도움말

---

## 체크리스트: 설정 완료 확인

이 모든 항목을 확인했으면 설정이 완료된 것입니다!

- [ ] Google 계정으로 로그인
- [ ] Firebase 프로젝트 생성 (Step 2)
- [ ] Firestore 데이터베이스 생성 - 테스트 모드 (Step 3)
- [ ] 익명 인증 활성화 (Step 4)
- [ ] 앱 등록 및 설정값 복사 (Step 5)
- [ ] firebase-auth.json 파일 생성 및 저장 (Step 6)
- [ ] 앱에서 Firebase 연결 상태 "연결됨" 확인 (Step 8)
- [ ] 테스트 데이터 저장/복원 확인 (Step 8)

✅ **모두 완료되었습니다!** 이제 시료 접수 대장을 클라우드와 연동해서 사용할 수 있습니다.

---

## 📅 30일 후 체크리스트

테스트 모드 만료 전에 준비하세요:

- [ ] 달력에 알림 설정 (30일 뒤)
- [ ] 보안 규칙 업데이트 방법 미리 읽기 (Step 7)
- [ ] 중요한 데이터 백업 (메뉴 → 내보내기)
- [ ] Firebase 콘솔 북마크 저장

---

*마지막 업데이트: 2026-02-13*
*한국어, 초급 사용자 대상*
